Backend : intermediate code and optimizations